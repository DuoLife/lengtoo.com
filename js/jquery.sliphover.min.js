/*
* jquery sliphover 1.1.1
* apply 2d/3d hover animation to images

* inspired by http://tympanus.net/TipsTricks/DirectionAwareHoverEffect/index2.html
* and http://codepen.io/taufnrsyd/pen/ufcdG

* Author:Wayou
*
* Licensed under the MIT license.
*
* Bug reporting, suggestion, feature requirments, you can:
* mail to liuwayong@gmail.com
* or visit the project on github https://github.com/Wayou/SlipHover to open issues
*/
;(function($,window,document,undefined){'use strict';var v=function(ao,options){this.F=ao,this.options=$.extend({},this.defaults,options)};v.prototype={defaults:{target:'img',title:'title',duration:'fast',fontColor:'#ffffff',backgroundColor:'rgba(0,0,0,.5)',reverse:false,flip:false,autoScroll:true,scrollSpeed:40,height:'100%'},aX:{R:{'left':'0','bottom':'0'},bK:{'left':'0','bottom':'100%'},ab:{'left':'100%','bottom':'0'},aV:{'left':'0','bottom':'-100%'},as:{'left':'-100%','bottom':'0'}},C:{bg:{'perspective-origin':'50% 0%','-webkit-perspective-origin':'50% 0%'},aN:{'perspective-origin':'100% 50%','-webkit-perspective-origin':'100% 50%'},bB:{'perspective-origin':'50% 100%','-webkit-perspective-origin':'50% 100%'},ap:{'perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'},},bH:'@-webkit-keyframes topenter{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} } @keyframes topenter{ 	from{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(0deg); 	} } @-webkit-keyframes topleave{ 	from{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:top; 		-webkit-transform:rotateX(-90deg); 	} } @keyframes topleave{ 	from{ 		transform-origin:top; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:top; 		transform:rotateX(-90deg); 	} }  @-webkit-keyframes rightenter{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} } @keyframes rightenter{ 	from{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(0deg); 	} } @-webkit-keyframes rightleave{ 	from{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:right; 		-webkit-transform:rotateY(-90deg); 	} } @keyframes rightleave{ 	from{ 		transform-origin:right; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:right; 		transform:rotateY(-90deg); 	} }  @-webkit-keyframes bottomenter{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} } @keyframes bottomenter{ 	from{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} } @-webkit-keyframes bottomleave{ 	from{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(0deg); 	} 	to{ 		-webkit-transform-origin:bottom; 		-webkit-transform:rotateX(90deg); 	} } @keyframes bottomleave{ 	from{ 		transform-origin:bottom; 		transform:rotateX(0deg); 	} 	to{ 		transform-origin:bottom; 		transform:rotateX(90deg); 	} }  @-webkit-keyframes leftenter{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} } @keyframes leftenter{ 	from{ 		transform-origin:left; 		transform:rotateY(90deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(0deg); 	} } @-webkit-keyframes leftleave{ 	from{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(0deg); 	} 	to{ 		-webkit-transform-origin:left; 		-webkit-transform:rotateY(90deg); 	} } @keyframes leftleave{ 	from{ 		transform-origin:left; 		transform:rotateY(0deg); 	} 	to{ 		transform-origin:left; 		transform:rotateY(90deg); 	} }',ae:function(ao,options){var H=this,F=ao||this.F,options=options||this.options,bI=F.find(options.target).size()>0?F.find(options.target):F;if(this.options.flip){var bi=$('style').length===0?$('<style>'):$('style').first();bi.append(this.bH).appendTo('head');};bI.each(function(){var J=H.am($(this)),O=H.aj(J,options,$(this)),t=O.children(),T=t.height(),al=O.height();H.aS(J,O,options);if(H.options.autoScroll&&T-al>0){O.css('overflow','hidden');var scrollTop={top: -(T-al)},bS={top:0},j=(T-al)*H.options.scrollSpeed;O.hover(function(){H.bv(t,scrollTop,bS,j);},function(){O.children().stop().css('top','0');})};});return F;},bv:function(F,be,az,j){var H=this;F.animate(be,j,'linear',function(){F.animate(az,j,'linear',function(){H.bv(F,be,az,j);});});},am:function(k){var bc=k.offset(),by=k.innerWidth(),aa=k.innerHeight(),ac=k.parents().filter(function(){return this.style.position!=='static';}).length,bL=ac?(bc.top+borderWidth):0,aC=ac?(bc.left+borderWidth):0,borderWidth=(k.outerWidth()-k.innerWidth())/2,J=$('<div class="sliphoveritem" style="width:'+by+'px;height:'+aa+'px;text-align:center;overflow:hidden;position:absolute;top:'+bL+'px;left:'+aC+'px;">').insertBefore(k);if(this.options.flip){J.css({'perspective':'500px','-webkit-perspective':'500px','perspective-origin':'0% 50%','-webkit-perspective-origin':'0% 50%'});};var browser=this.aB();if(browser.l&&browser.version<=10){J.css('background-color','rgba(255,255,255,0.1)');};return J;},aj:function(J,options,k){var O=$('<div class="sliphoveritemTitle" style="width:100%;height:'+this.options.height+';box-sizing:border-box;-moz-box-sizing:border-box;padding:5px;overflow:auto;position:absolute;color:'+this.options.fontColor+';background-color:'+this.options.backgroundColor+';">').html('<div style="position:relative;width:100%;">'+k.attr(options.title)+'</div>'),t=O.children();if(this.options.flip){O.css({'left':'0','bottom':'0','transform-origin':'left','transform':'rotateY(90deg)','-webkit-transform-origin':'left','-webkit-transform':'rotateY(90deg)','backface-visibility':'hidden','-webkit-backface-visibility':'hidden'});}else{O.css(this.aX.as);};J.html(O);if(t.height()<O.height()){t.css({'width':t.width(),'height':O.height(),'display':'table-cell','vertical-align':'middle','text-align':'center'});};return O;},V:function(bj,bh,J,O){var duration=this.options.duration;switch(duration){case 'fast':duration='200ms';break;case 'slow':duration='600ms';break;default:duration=duration+'ms';break;};J.css(bj);O.css({'animation':bh+' '+duration+' forwards','-webkit-animation':bh+' '+duration+' forwards'});},af:function(k,event){var w=k.width(),L=k.height(),x=(event.pageX-k.offset().left-(w/2))*(w>L?(L/w):1),y=(event.pageY-k.offset().top-(L/2))*(L>w?(w/L):1),direction=Math.round((((Math.atan2(y,x)*(180/Math.PI))+180)/90)+3)%4;return direction;},aS:function(k,O,options){var H=this;k.unbind('mouseenter.sliphover mouseleave.sliphover').bind('mouseenter.sliphover mouseleave.sliphover',function(e){var K=e.type,direction=H.af(k,e);H.an(K,direction,k,O,options,H.aX);});},an:function(K,direction,J,O,options,G){if(options.reverse){direction=(direction+2)%4};switch(direction){case 0:if(K=='mouseenter'){if(options.flip){this.V(this.C.bg,'topenter',J,O);}else{O.css(G.bK);O.stop().animate(G.R,options.duration);};}else{if(options.flip){this.V(this.C.bg,'topleave',J,O);}else{O.stop().animate(G.bK,options.duration);};}break;case 1:if(K=='mouseenter'){if(options.flip){this.V(this.C.aN,'rightenter',J,O);}else{O.css(G.ab);O.stop().animate(G.R,options.duration);};}else{if(options.flip){this.V(this.C.aN,'rightleave',J,O);}else{O.stop().animate(G.ab,options.duration);};}break;case 2:if(K=='mouseenter'){if(options.flip){this.V(this.C.bB,'bottomenter',J,O);}else{O.css(G.aV);O.stop().animate(G.R,options.duration);};}else{if(options.flip){this.V(this.C.bB,'bottomleave',J,O);}else{O.stop().animate(G.aV,options.duration);};}break;case 3:if(K=='mouseenter'){if(options.flip){this.V(this.C.ap,'leftenter',J,O);}else{O.css(G.as);O.stop().animate(G.R,options.duration);};}else{if(options.flip){this.V(this.C.ap,'leftleave',J,O);}else{O.stop().animate(G.as,options.duration);};}break;default:throw new Error('failed to get the direction.');}},aB:function(){var version=999,l=false;if(navigator.appVersion.indexOf("MSIE")!= -1){l=true;version=parseFloat(navigator.appVersion.split("MSIE")[1]);}return{l:l,version:version};}};v.constructor=v;$.fn.sliphover=function(options){var entry=$.data(this,'sliphover');if(!entry){entry=new v(this,options);entry.ae();$.data(this,'sliphover',entry);}else{entry.ae(this,options);}$(window).unbind('resize.sliphover').bind('resize.sliphover',function(){$('.sliphoveritem').remove();entry.ae();});return entry;};}(jQuery,window,document));